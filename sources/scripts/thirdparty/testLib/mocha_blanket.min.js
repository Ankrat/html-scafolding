!function(){if(!mocha)throw new Exception("mocha library does not exist in global namespace!");var n=mocha._reporter,t=function(t){t.on("start",function(){blanket.setupCoverage()}),t.on("end",function(){blanket.onTestsDone()}),t.on("suite",function(){blanket.onModuleStart()}),t.on("test",function(){blanket.onTestStart()}),t.on("test end",function(n){blanket.onTestDone(n.parent.tests.length,"passed"===n.state)}),t.on("hook",function(){blanket.onTestStart()}),t.on("hook end",function(){blanket.onTestsDone()}),new n(t)};t.prototype=n.prototype,mocha.reporter(t);var o=mocha.run,e=null;mocha.run=function(n){e=n,console.log("waiting for blanket...")},blanket.beforeStartTestRunner({callback:function(){blanket.options("existingRequireJS")||o(e),mocha.run=o}})}();